# 品質要件チェックリスト

## 実装完了時の必須確認項目

### 🔍 コード品質 (REQ-QUA-001～005)

#### 1. フォーマット確認 (REQ-QUA-001)
```bash
cd src && uv run ruff format .
```
- [ ] Ruffフォーマット実行済み
- [ ] PEP 8準拠確認済み  
- [ ] フォーマット後のテスト正常動作確認

#### 2. リンティング確認 (REQ-QUA-002)
```bash
cd src && uv run ruff check app/ --statistics
```
- [ ] 主要コード（app/）でエラーゼロ
- [ ] セキュリティ問題の検出なし
- [ ] テストコード警告は許容範囲

#### 3. 型チェック確認 (REQ-QUA-003)
```bash
cd src && uv run mypy app/
```
- [ ] 型エラーゼロ
- [ ] 新機能の型ヒント記載済み
- [ ] Pydantic型定義適切

#### 4. テスト実行確認 (REQ-QUA-004)
```bash
cd src && uv run pytest tests/unit/ -v
```
- [ ] 全テスト通過（現在57個）
- [ ] 新機能のテスト追加済み
- [ ] 異常系テスト含有確認

#### 5. ドキュメント確認 (REQ-QUA-005)
- [ ] 新機能のdocstring記載
- [ ] 複雑処理にコメント追加
- [ ] README更新（必要に応じて）
- [ ] 変更履歴記録

## 実装フロー

1. **機能実装** → コード作成
2. **品質確認** → 上記チェックリスト実行
3. **修正対応** → 問題があれば修正
4. **最終確認** → 全項目✅になるまで繰り返し
5. **完了宣言** → 全品質要件クリア後

## エラー時の対応

### Ruffフォーマットエラー
```bash
# 自動修正
cd src && uv run ruff format .
cd src && uv run ruff check . --fix
```

### 型エラー対応
- 型ヒント追加
- Any型の適切な型への変更
- Optional/Union型の適切な使用

### テストエラー対応  
- モック設定の確認
- インポートパスの確認
- テストデータの妥当性確認

## 見落とし防止策

- **チェックリスト必須実行**: 実装完了時の全項目確認
- **自動化検討**: CI/CDパイプラインでの品質チェック
- **レビュー観点**: 品質要件を明確な評価基準として使用
